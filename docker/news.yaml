services:
  graphql:
    container_name: news
    image: ghcr.io/gravitalia/news-api:1.0.0
    restart: always
    environment:
      - PORT=5400
    expose:
      - 5400
    networks:
      - proxy
      - database
      - news

  machine_learning:
    container_name: machine_learning
    image: ghcr.io/gravitalia/news-ml:0.1.0
    restart: always
    environment:
      - PORT=8000
    expose:
      - 8000
    networks:
      - news

networks:
  news:
    driver: bridge